<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    
      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-PNFDVBB');</script>
      <!-- End Google Tag Manager -->
    

    <!-- Basic -->
    <title>Fetching data with resolvers | Apollo Server</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
      <link rel="shortcut icon" type="image/png" href="../images/favicon-apollo.png" sizes="16x16 32x32 64x64">
    

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.apollographql.com/docs/apollo-server">
    <meta property="og:title" content="Fetching data with resolvers | Apollo Server">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <meta name="twitter:site" content="@apollographql">
    <meta name="twitter:title" content="Fetching data with resolvers | Apollo Server">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="">

    
    
    <link href="//cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism.min.css" rel="stylesheet" type="text/css">
    <link href="//cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" type="text/css">
    <link href="//cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/line-highlight/prism-line-highlight.css" rel="stylesheet" type="text/css">

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic" rel="stylesheet" type="text/css">
    
      <link rel="stylesheet" href="../style/bundle-apollo.css">
    
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css">
  </head>
  <body class="">
    
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PNFDVBB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
    
      

  <div class="nav sunset">
    <div class="nav-group left">
      <div class="nav-item mobile-button js-sidebar-toggle show-mobile">
        <span class="icon-menu"></span>
      </div>
      <div class="nav-item">
        
        <a class="logo-wrapper" href="https://www.apollographql.com/" title="Apollo ">
          <img src="../images/logo-apollo-space-left.svg" alt="Apollo" class="logo">
          
            <span></span>
          
        </a>
      </div>
    </div>


    
      <div class="nav-group right">
        <div id="nav-container" class="show-desktop"></div>
        <script src="https://apollographql-nav.netlify.com/index.js"></script>
        <script>ApolloNav.initNav({ theme: 'light' }, 'nav-container')</script>
      </div>
    
    </div>
  

  

<div class="sidebar charcoal">
  <div class="panel">
    
      <div id="sidebar-panel-nav"></div>
      <script>ApolloNav.initNav({ theme: 'light', id: 'mobile-nav' }, 'sidebar-panel-nav')</script>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">Apollo Server</span>
      
        <span class="select version-sidebar nochrome">
          <select class="version-select">
            
              <option value="v2">2</option>
            
              <option value="v1">1</option>
            
          </select>
        </span>
      
    </div>

    
    <div class="wrapper-search">
      <div class="input-area">
        <div class="input-symbol small round">
          <input type="text" placeholder="Search Apollo Server" id="desktop-search-input">
          <span class="icon-search"></span>
        </div>
      </div>
      <div class="wrapper-desktop-search-results"></div>
    </div>

    

    <ul class="toc">
      

        <li>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="../." class="sidebar-link ">
                  <span>Introduction</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../getting-started.html" class="sidebar-link ">
                  <span>Getting started</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../whats-new.html" class="sidebar-link ">
                  <span>What's new?</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      

        <li>
          
            <div class="heading-toc">Essentials</div>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="schema.html" class="sidebar-link ">
                  <span>Writing a schema</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="server.html" class="sidebar-link ">
                  <span>Building a server</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc current">
                <a href="" class="sidebar-link current">
                  <span>Fetching data with resolvers</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      

        <li>
          
            <div class="heading-toc">Features</div>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="../features/mocking.html" class="sidebar-link ">
                  <span>Mocking</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/errors.html" class="sidebar-link ">
                  <span>Error handling</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/data-sources.html" class="sidebar-link ">
                  <span>Data sources</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/subscriptions.html" class="sidebar-link ">
                  <span>Subscriptions</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/metrics.html" class="sidebar-link ">
                  <span>Monitoring and metrics</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/graphql-playground.html" class="sidebar-link ">
                  <span>GraphQL Playground</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/scalars-enums.html" class="sidebar-link ">
                  <span>Custom scalars and enums</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/unions-interfaces.html" class="sidebar-link ">
                  <span>Unions and interfaces</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/directives.html" class="sidebar-link ">
                  <span>Using schema directives</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/creating-directives.html" class="sidebar-link ">
                  <span>Implementing directives</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/authentication.html" class="sidebar-link ">
                  <span>Authentication</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../features/testing.html" class="sidebar-link ">
                  <span>Integration testing</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      

        <li>
          
            <div class="heading-toc">Deployment</div>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="../deployment/heroku.html" class="sidebar-link ">
                  <span>Heroku</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../deployment/lambda.html" class="sidebar-link ">
                  <span>Lambda</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../deployment/now.html" class="sidebar-link ">
                  <span>Now</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      

        <li>
          
            <div class="heading-toc">API Reference</div>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="../api/apollo-server.html" class="sidebar-link ">
                  <span>apollo-server</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../api/graphql-tools.html" class="sidebar-link ">
                  <span>graphql-tools</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      

        <li>
          
            <div class="heading-toc">Migration</div>
          

          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a href="../migration-two-dot.html" class="sidebar-link ">
                  <span>Migrating to v2.0</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../migration-engine.html" class="sidebar-link ">
                  <span>Using Engine with v2.0</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a href="../migration-file-uploads.html" class="sidebar-link ">
                  <span>File uploads in Node.js < v8.5.0</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr>
      
    </ul>
  </div>
</div>

    <div class="content">

      <div class="header-content">
        <div class="header-wrapper">
          <div class="title-wrapper">
            <h1 class="title-page">
              Fetching data with resolvers
            </h1>
            
          </div>
        </div>
      </div>

      <div class="content-wrapper">
        <div class="document-formatting">
          <p>GraphQL is the best way to work with data from <strong>any</strong> back-end that your product needs. It is not a mapping of your database, but rather a graph of the data sources and shapes your product is made of. Resolvers are the key to this graph. Each resolver represents a single field, and can be used to fetch data from any source(s) you may have.</p>
<p>Resolvers provide the instructions for turning a GraphQL operation into data. Resolvers are organized into a one to one mapping to the fields in a GraphQL schema. This section describes resolvers‚Äô organization, every field‚Äôs default resolver, and their signature.</p>
<h2 id="resolver-map">Resolver map</h2>

<p>In order to respond to queries, a schema needs to have resolve functions for all fields. This collection of functions is called the ‚Äúresolver map‚Äù. This map relates the schema fields and types to a function.</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-js">
const { gql } = require(&#39;apollo-server&#39;);
const { find, filter } = require(&#39;lodash&#39;);

const schema = gql`
  type Book {
    title: String
    author: Author
  }

  type Author {
    books: [Book]
  }

  type Query {
    author: Author
  }
`;

const resolvers = {
  Query: {
    author(parent, args, context, info) {
      return find(authors, { id: args.id });
    },
  },
  Author: {
    books(author) {
      return filter(books, { author: author.name });
    },
  },
};
</code></pre>
<p>Note that you don‚Äôt have to put all of your resolvers in one object. Refer to the <a href="/docs/graphql-tools/generate-schema.html#modularizing">‚Äúmodularizing the schema‚Äù</a> section to learn how to combine multiple resolver maps into one.</p>
<h2 id="type-signature">Resolver type signature</h2>

<p>In addition to the parent resolvers‚Äô value, resolvers receive a couple more arguments. The full resolver function signature contains four positional arguments: <code>(parent, args, context, info)</code> and can return an object or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises" target="_blank" rel="noopener">Promise</a>. Once a promise resolves, then the children resolvers will continue executing. This is useful for fetching data from a backend.</p>
<p>The resolver parameters generally follow this naming convention and are described in detail:</p>
<ol>
<li><code>parent</code>: The object that contains the result returned from the resolver on the parent field, or, in the case of a top-level <code>Query</code> field, the <code>rootValue</code> passed from the <a href="./server.html">server configuration</a>. This argument enables the nested nature of GraphQL queries.</li>
<li><code>args</code>: An object with the arguments passed into the field in the query. For example, if the field was called with <code>query{ key(arg: &quot;you meant&quot;) }</code>, the <code>args</code> object would be: <code>{ &quot;arg&quot;: &quot;you meant&quot; }</code>.</li>
<li><code>context</code>: This is an object shared by all resolvers in a particular query, and is used to contain per-request state, including authentication information, dataloader instances, and anything else that should be taken into account when resolving the query. Read <a href="#context">this section</a> for an explanation of when and how to use context.</li>
<li><code>info</code>: This argument contains information about the execution state of the query, including the field name, path to the field from the root, and more. It‚Äôs only documented in the <a href="https://github.com/graphql/graphql-js/blob/c82ff68f52722c20f10da69c9e50a030a1f218ae/src/type/definition.js#L489-L500" target="_blank" rel="noopener">GraphQL.js source code</a>, but is extended with additional functionality by other modules, like <a href="https://github.com/apollographql/apollo-server/tree/master/packages/apollo-cache-control" target="_blank" rel="noopener"><code>apollo-cache-control</code></a>.</li>
</ol>
<p>In addition to returning GraphQL defined <a href="./schema.html#scalar">scalars</a>, you can return <a href="../features/scalars-enums.html">custom scalars</a> for special use cases, such as JSON or big integers.</p>
<h3 id="result">Resolver results</h3>

<p>Resolvers in GraphQL can return different kinds of results which are treated differently:</p>
<ol>
<li><code>null</code> or <code>undefined</code> - this indicates the object could not be found. If your schema says that field is <em>nullable</em>, then the result will have a <code>null</code> value at that position. If the field is <code>non-null</code>, the result will ‚Äúbubble up‚Äù to the nearest nullable field and that result will be set to <code>null</code>. This is to ensure that the API consumer never gets a <code>null</code> value when they were expecting a result.</li>
<li>An array - this is only valid if the schema indicates that the result of a field should be a list. The sub-selection of the query will run once for every item in this array.</li>
<li>A promise - resolvers often do asynchronous actions like fetching from a database or backend API, so they can return promises. This can be combined with arrays, so a resolver can return a promise that resolves to an array, or an array of promises, and both are handled correctly.</li>
<li>A scalar or object value - a resolver can also return any other kind of value, which doesn‚Äôt have any special meaning but is simply passed down into any nested resolvers, as described in the next section.</li>
</ol>
<h3 id="parent">Parent argument</h3>

<p>The first argument to every resolver, <code>parent</code>, can be a bit confusing at first, but it makes sense when you consider what a GraphQL query looks like:</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-graphql">query {
  getAuthor(id: 5){
    name
    posts {
      title
      author {
        name # this will be the same as the name above
      }
    }
  }
}
</code></pre>
<p>Every GraphQL query is a tree of function calls in the server. So the <code>obj</code> contains the result of parent resolver, in this case:</p>
<ol>
<li><code>parent</code> in <code>Query.getAuthor</code> will be whatever the server configuration passed for <code>rootValue</code>.</li>
<li><code>parent</code> in <code>Author.name</code> and <code>Author.posts</code> will be the result from <code>getAuthor</code>, likely an Author object from the backend.</li>
<li><code>parent</code> in <code>Post.title</code> and <code>Post.author</code> will be one item from the <code>posts</code> result array.</li>
<li><code>parent</code> in <code>Author.name</code> is the result from the above <code>Post.author</code> call.</li>
</ol>
<p>Every resolver function is called according to the nesting of the query. To understand this transition from query to resolvers from another perspective, read this <a href="https://blog.apollographql.com/graphql-explained-5844742f195e#.fq5jjdw7t" target="_blank" rel="noopener">blog post</a>.</p>
<h3 id="context">Context argument</h3>

<p>The context is how you access your shared connections and fetchers in resolvers to get data.</p>
<p>The <code>context</code> is the third argument passed to every resolver. It is useful for passing things that any resolver may need, like <a href="https://blog.apollographql.com/authorization-in-graphql-452b1c402a9" target="_blank" rel="noopener">authentication scope</a>, database connections, and custom fetch functions. Additionally, if you‚Äôre using <a href="../best-practices/performance.html#Batching-data-lookups">dataloaders to batch requests</a>  across resolvers, you can attach them to the <code>context</code> as well.</p>
<p>As a best practice, <code>context</code> should be the same for all resolvers, no matter the particular query or mutation, and resolvers should never modify it. This ensures consistency across resolvers, and helps increase development velocity.</p>
<p>To provide a <code>context</code> to your resolvers, add a <code>context</code> object to the Apollo Server constructor. This constructor gets called with every request, so you can set the context based off the details of the request (like HTTP headers).</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-clike">const server = new ApolloServer({
  typeDefs,
  resolvers,
  context: ({ req }) =&gt; ({
    authScope: getScope(req.headers.authorization)
  })
}));

&#x2F;&#x2F; resolver
(parent, _, context) =&gt; {
  if(context.authScope !== ADMIN) throw AuthenticationError(&#39;not admin&#39;);
  ...
}
</code></pre>
<p>The context can also be created asynchronously, allowing database connections and other operations to complete.</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-clike">context: async () =&gt; ({
  db: await client.connect(),
})

&#x2F;&#x2F; resolver
(parent, _, context) =&gt; {
  return context.db.query(&#39;SELECT * FROM table_name&#39;);
}
</code></pre>
<h2 id="default">Default resolvers</h2>

<p>Explicit resolvers are not needed for every type, since Apollo Server provides a <a href="https://github.com/graphql/graphql-js/blob/69d90c601ad5a6f49c06b4ebbc8c73d51ef03566/src/execution/execute.js#L1264-L1278" target="_blank" rel="noopener">default</a> that can perform two actions depending on the contents of <code>parent</code>:</p>
<ol>
<li>Return the property from <code>parent</code> with the relevant field name</li>
<li>Calls a function on <code>parent</code> with the relevant field name and provide the remaining resolver parameters as arguments</li>
</ol>
<p>For the following schema, the <code>title</code> field of <code>Book</code> would not need a resolver if the result of the <code>books</code> resolver provided a list of objects that already contained a <code>title</code> field.</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-graphql">type Book {
  title: String
}

type Author {
  books: [Book]
}
</code></pre>
<h2 id="modularizing-resolvers">Modularizing resolvers</h2>

<p>We can accomplish the same modularity with resolvers by passing around multiple resolver objects and combining them together with Lodash‚Äôs <code>merge</code> or other equivalent:</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-js">&#x2F;&#x2F; comment.js
const resolvers = {
  Comment: { ... }
}

export resolvers;
</code></pre>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-js">&#x2F;&#x2F; post.js
const { merge } = require(&#39;lodash&#39;);

const Comment = require(&#39;.&#x2F;comment&#39;);
const resolvers = merge({
  Post: { ... }
}, Comment.resolvers);

export resolvers;
</code></pre>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-js">&#x2F;&#x2F; schema.js
const { merge } = require(&#39;lodash&#39;);
const Post = require(&#39;.&#x2F;post.js&#39;);

&#x2F;&#x2F; Merge all of the resolver objects together
const resolvers = merge({
  Query: { ... }
}, Post.resolvers);

const server = new ApolloServer({
  typeDefs,
  resolvers,
});

server.listen().then(({ url }) =&gt; {
  console.log(`üöÄ Server ready at ${url}`)
});
</code></pre>
<h2 id="querying">Sending queries</h2>

<p>Once your resolver map is complete, it‚Äôs time to start testing out your queries in GraphQL Playground.</p>
<h3 id="operation">Naming operations</h3>

<p>When sending the queries and mutations in the above examples, we‚Äôve used either <code>query { ... }</code> or <code>mutation { ... }</code> respectively.  While this is fine, and particularly convenient when running queries by hand, it makes sense to name the operation in order to quickly identify operations during debugging or to aggregate similar operations together for application performance metrics, for example, when using <a href="https://engine.apollographql.com/" target="_blank" rel="noopener">Apollo Engine</a> to monitor an API.</p>
<p>Operations can be named by placing an identifier after the <code>query</code> or <code>mutation</code> keyword, as we‚Äôve done with <code>HomeBookListing</code> here:</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-graphql">query HomeBookListing {
  getBooks {
    title
  }
}
</code></pre>
<h3 id="variables">Queries with variables</h3>

<p>In the examples above, we‚Äôve used static strings as values for both queries and mutations.  This is a great shortcut when running ‚Äúone-off‚Äù operations, but GraphQL also provides the ability to pass variables as arguments and avoid the need for clients to dynamically manipulate operations at run-time.</p>
<p>By defining a map of variables on the root <code>query</code> or <code>mutation</code> operation, which are sent from the client, variables can be used (and re-used) within the types and fields themselves.</p>
<p>For example, with a slight change to the mutation we used in the previous step, we enable the client to pass <code>title</code> and <code>author</code> variables alongside the operation itself.  We can also provide defaults for those variables for when they aren‚Äôt explicitly set:</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-graphql">mutation HomeQuickAddBook($title: String, $author: String = &quot;Anonymous&quot;) {
  addBook(title: $title, author: $author) {
    title
  }
}
</code></pre>
<p>GraphQL clients, like <a href="https://www.apollographql.com/docs/react/">Apollo Client</a>, take care of sending the variables to the server separate from the operation itself:</p>

<!-- Has Prism -->
<pre class="line-numbers" style=""><code class="language-json">{
  &quot;query&quot;: &quot;...&quot;,
  &quot;variables&quot;: { &quot;title&quot;: &quot;Green Eggs and Ham&quot;, &quot;author&quot;: &quot;Dr. Seuss&quot; }
}
</code></pre>
<p>This functionality is also supported by tools like GraphQL Playground.</p>

        </div>
      </div>

      <div class="pagination">
        <div class="content-wrapper">
          
          
         
              <a class="link primary prev" href="server.html">
                <span class="icon-arrow-left-alt"></span>
                <span class="subtitle-pagination">Previous</span>
                Building a server
              </a>
         
          
          
           
              <a class="link primary next" href="../features/mocking.html">
                <span class="subtitle-pagination">Next</span>
                Mocking
                  <span class="icon-arrow-right-alt"></span>
              </a>
           
          
        </div>
      </div>

      <div class="github">
        <a class="link tertiary " href="https://github.com/apollographql/apollo-server/tree/master/docs/source/essentials/data.md" target="_blank">
          <span class="icon-github"></span>Edit on GitHub</a>
      </div>

      
    </div>

    
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/prismjs@1.15.0/prism.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
        <script type="text/javascript" src="//cdn.jsdelivr.net/combine/npm/prismjs@1.15.0/components/prism-bash.min.js,npm/prismjs@1.15.0/components/prism-graphql.min.js,npm/prismjs@1.15.0/components/prism-json.min.js,npm/prismjs@1.15.0/components/prism-jsx.min.js,npm/prismjs@1.15.0/components/prism-less.min.js,npm/prismjs@1.15.0/components/prism-swift.min.js,npm/prismjs@1.15.0/components/prism-typescript.min.js,npm/prismjs@1.15.0/components/prism-yaml.min.js"></script>

    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/smooth-scroll@12.1.5/dist/js/smooth-scroll.min.js"></script>

    <script>
      // Used by the main.js script below.
      docsConfigRoot = '/docs/apollo-server/';
    </script>
    <script src="../script/main.js"></script>

    
      <script type="text/javascript" src="//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    <script>
      // nectar ninja
      (function(){
        var handle = '@meteorjs';
        var a = document.createElement('script');
        var m = document.getElementsByTagName('script')[0];
        a.async = 1;
        a.src = 'https://nectar.ninja/api/v1/' + handle.slice(1);
        m.parentNode.insertBefore(a, m);
      })();
    </script>

    

    
      <script>
        
        var analytics;

        <!-- Segment.io -->
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
        analytics.load("wgrIo8Bul0Ujl8USETG3DB6hONdy4kTg");
        analytics.page();
        }}();
      </script>
    

    // search box
    
      <script>
        ['desktop'].forEach(function(type) {
          var search = docsearch({
            apiKey: '768e823959d35bbd51e4b2439be13fb7',
            
            
            indexName: 'apollodata',
            inputSelector: '#' + type + '-search-input',
            autocompleteOptions: {
              dropdownMenuContainer: '.wrapper-' + type + '-search-results',
              debug: true
            },
            algoliaOptions: {
              hitsPerPage: 20
            }
          }).autocomplete;

          var sidebar = document.querySelector('.sidebar-content');
          search.on('autocomplete:opened', function() {
            sidebar.classList.add('searching');
          });
          search.on('autocomplete:closed', function() {
            sidebar.classList.remove('searching');
          });
          search.on('autocomplete:updated', function() {
            if (search.val() === '') {
              search.autocomplete.close();
            }
          });
        });
      </script>
    

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
    <script>
      window.addEventListener('load', function () {
        window.cookieconsent.initialise({
          palette: {
            popup: {
              background: '#555',
            },
            button: {
              text: '#333',
              background: '#CCC',
            },
          },
        })
      });
    </script>
  </body>
</html>
